<mvc:View
    controllerName="amalisov.cuibono.controller.AddEditTranche"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:layout="sap.ui.layout.form"
>
    <HBox class="horizontalAlign">
        <Switch
            state="{tranche>/Active}"
            change="onSwitchChange"
        />
        <Label text="{i18n>locked}" />
    </HBox>

    <layout:SimpleForm
        class="table"
        editable="true"
        layout="ResponsiveGridLayout"
        labelSpanL="12"
        labelSpanM="12"
        labelSpanS="12"
        columnsL="2"
        columnsM="2"
        width="33%"
    >
        <layout:content>
            <VBox>
                <HBox class="spaceAbove">
                    <VBox>
                        <Label text="{i18n>name}" />
                        <Input
                            id="trancheName"
                            value="{tranche>/name}"
                            class="customInputs "
                        />
                    </VBox>

                    <VBox class="spaceBetween">
                        <Label text="{i18n>location}" />
                        <ComboBox
                            id="trancheLocation"
                            items="{
                                    path: 'trancheModel>/Location'
                                   
                                }"
                            class="customInputs"
                        >
                            <core:Item
                                key="{trancheModel>ID}"
                                text="{trancheModel>name}"
                            />
                        </ComboBox>
                    </VBox>
                </HBox>

                <VBox class="spaceAbove">
                    <Label text="{i18n>description}" />
                    <TextArea
                        id="trancheDescription"
                        value="{tranche>/Description}"
                        rows="4"
                        class="customInput"
                    />
                </VBox>

                <HBox class="spaceAbove">
                    <VBox>
                        <Label text="{i18n>startDate}" />
                        <DatePicker
                            id="beginDate"
                            value="{tranche>/StartDate}"
                            class="customInput"
                        />
                    </VBox>
                    <VBox class="spaceBetween">
                        <Label text="{i18n>endDate}" />
                        <DatePicker
                            id="endDate"
                            value="{tranche>/EndDate}"
                            class="customInput"
                        />
                    </VBox>
                </HBox>

                <HBox class="spaceAbove">
                    <VBox>
                        <Label text="{i18n>trancheWeight}" />
                        <Input
                            id="trancheWeight"
                            value="{tranche>/Weight}"
                            class="customInput"
                        />
                    </VBox>
                </HBox>
            </VBox>
        </layout:content>
        <Button
            text="save form"
            press="onSavePress"
        />
    </layout:SimpleForm>

    <Table
        id="targetTable"
        items="{path: 'tranche>/TargetCollection'}"
        width="33%"
    >
        <headerToolbar>
            <OverflowToolbar class="tableBar">
                <Title
                    text="{i18n>targetWeight}"
                    level="H2"
                />
                <ToolbarSpacer />
                <Button
                    type="Emphasized"
                    text="{i18n>addNewTarget}"
                    press="onAddTarget"
                />
            </OverflowToolbar>
        </headerToolbar>
        <columns>
            <Column>
                <Text text="{i18n>name}" />
            </Column>
            <Column>
                <Text text="{i18n>targetWeight}" />
            </Column>
            <Column hAlign="End">
                <Text text="{i18n>achievement}" />
            </Column>
            <Column>
                <Text text="" />
            </Column>
        </columns>
        <items>
            <ColumnListItem>
                <cells>
                    <Text text="{tranche>Name}" />
                    <Text text="{tranche>Weight}" />
                    <Text text="{tranche>Achievement}" />

                    <HBox class="trancheButtonBox">
                        <Button
                            type="Unstyled"
                            icon="sap-icon://edit"
                            press="onEditTargetPress"
                            class="editButton"
                        />

                        <Button
                            type="Unstyled"
                            icon="sap-icon://delete"
                            press="onDeleteTargetPress"
                            class="deleteButton"
                        />
                    </HBox>
                </cells>
            </ColumnListItem>
        </items>
    </Table>

    <VBox class="totalTrancheWeight">
        <HBox class="totalBox">
            <Title
                text="{i18n>total}"
                class="totalTitle"
            />

            <ToolbarSpacer />

            <Text
                text="{}"
                class="totalTrancheWeightText"
            />

            <ToolbarSpacer />
        </HBox>
    </VBox>
</mvc:View>
